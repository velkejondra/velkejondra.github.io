---
import Layout from "../layouts/Layout.astro";
import Hero from "../components/home/Hero.astro";
import Section from "../components/common/Section.astro";
// Import the new components
import EducationSection from "../components/home/EducationSection.astro";
import ProjectsSection from "../components/home/ProjectsSection.astro";
import ExperienceSection from "../components/home/ExperienceSection.astro";
import SkillsSection from "../components/home/SkillsSection.astro";

import { GLOBAL } from "../lib/variables";
import { featuredArticles, featuredPhotoblog } from "../lib/featured"; // Assuming these exist

// --- MOCK DATA ---
// In a real scenario, you'd fetch this data from Markdown files, APIs, or define it elsewhere
import type {
  EducationItem,
  ExperienceItem,
  ProjectFrontmatter,
  SkillCategory,
} from "../lib/types";

const educationHistory: EducationItem[] = [
  {
    institution: "Faculty of Informatics Czech Technical University in Prague",
    degree: "master's degree",
    period: "Sep. 2024 - Present",
    description: "Computer Systems and Networks",
  }, // [cite: 1]
  {
    institution: "Faculty of Informatics Czech Technical University in Prague",
    degree: "bachelor's degree",
    period: "Sep. 2021 - Jun. 2024",
    description: "Software Engineering",
  }, // [cite: 1]
];

const experienceHistory: ExperienceItem[] = [
  {
    company: "CDN77",
    role: "Software Engineer",
    period: "September 2021 - Present",
    description:
      "Research and management of Ceph clusters and distributed storage solutions. Developed a logging tool that sniffs the cephfs journal in C++. Now working on an NGINX fork in C and Lua. Development of new NGINX modules and profiling/debugging.",
    url: "",
    tags: ["C/C++", "Lua", "NGINX", "Ceph", "Distributed Systems"],
  },
  {
    company: "Netio products a.s.",
    role: "Junior C++ embedded developer",
    period: "July 2021 - September 2021",
    description:
      "Developed and debugged new features for smart power sockets using the ESP32 platform. Implemented features such as device network health check or logging of runtime statistics.",
    url: "",
    tags: ["C++", "Embedded Systems", "ESP32"],
  },
  {
    company: "Netio products a.s.",
    role: "Junior Python backend developer",
    period: "July 2020 - July 2021",
    description:
      "Designed and developed internal management tools in Flask. Wrote SQL queries for graphical data visualization and presented insights via web-based dashboards.",
    url: "",
    tags: ["Python", "Flask", "SQL", "Web Development"],
  },
];

// Note: Filenames, URLs and some tags for projects were not in the CV and have been estimated or left blank.
const featuredProjects: ProjectFrontmatter[] = [
  {
    title: "Sharing of HTTP cache between webservers",
    description:
      "My bachelor's thesis focused on improving cache performance of web servers in a multilayer setup.",
    liveUrl: "https://dspace.cvut.cz/handle/10467/116053",
    tags: ["C", "Bloom Filters", "Lua", "Web Servers", "Distributed Cache"],
  },
  {
    title: "Chess engine",
    description:
      "Graduation project from high school. Bitmaps, Transposition tables, Alpha-Beta pruning. Created custom GUI and key-value file database of moves.",
    githubUrl: "https://github.com/velkejondra/ondrosachy",
    tags: ["C++", "Engine", "Databases", "AI", "High School Project"],
  }, // Tags inferred
];

const skillCategories: SkillCategory[] = [
  {
    name: "Languages with professional experience",
    skills: ["C", "C++", "Lua", "Python", "SQL", "HTML", "CSS", "JavaScript"],
  }, // [cite: 1, 10]
  {
    name: "Software/Frameworks",
    skills: [
      "NGINX",
      "Ceph",
      "RocksDB",
      "FreeRTOS",
      "lwIP",
      "Espressif",
      "Flask",
      "SQLAlchemy",
    ],
  }, // [cite: 1, 7, 10]
  { name: "Tools", skills: ["Ansible", "Git", "Docker", "Kubernetes"] }, // [cite: 1] Git added based on GitHub link [cite: 1]
];
// --- END MOCK DATA ---
---

<Layout>
  <Fragment slot="head">
    {/* ... your head content ... */}
  </Fragment>

  <Section class="my-16">
    <Hero />
  </Section>

  {/* Example Usage */}

  <Section>
    <ExperienceSection
      experienceHistory={experienceHistory}
      showViewAll={false}
    />
    {/* Example with View All */}
  </Section>
  <Section>
    <EducationSection educationHistory={educationHistory} />
  </Section>
  <Section>
    <ProjectsSection featuredProjects={featuredProjects} />
  </Section>

  <Section>
    <SkillsSection skillCategories={skillCategories} />
  </Section>
</Layout>
